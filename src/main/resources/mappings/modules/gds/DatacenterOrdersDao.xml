<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.gds.datacenter.dao.DatacenterOrdersDao">
    
	<sql id="datacenterOrdersColumns">
		a.id AS "id",
		a.hotelid AS "hotelid",
		a.hotelname AS "hotelname",
		a.hotelpms AS "hotelpms",
		a.channelid AS "channelid",
		a.paytype AS "paytype",
		a.begintime AS "begintime",
		a.endtime AS "endtime",
		a.status AS "status",
		a.teamname AS "teamname",
		a.totalprice AS "totalprice",
		a.contacts AS "contacts",
		a.contactsphone AS "contactsphone",
		a.paystatus AS "paystatus",
		a.orderno AS "orderno",
		a.pmsorderid AS "pmsorderid",
		a.grouporderid AS "grouporderid",
		a.ordertype AS "ordertype",
		a.cancelreason AS "cancelreason",
		a.createtime AS "createtime",
		a.updatetime AS "updatetime",
		a.note AS "note",
		a.channelname AS "channelname",
		a.salerid AS "salerid",
		a.settlestatus AS "settlestatus",
		a.cancelreasondesc AS "cancelreasondesc",
		a.provcode AS "provcode",
		a.citycode AS "citycode",
		a.discode AS "discode",
		a.provname AS "provname",
		a.cityname AS "cityname",
		a.disname AS "disname",
		a.salername AS "salername",
		a.salerphone AS "salerphone",
		a.bossname AS "bossname",
		a.bossphone AS "bossphone",
		a.totalroom AS "totalroom",
		a.hotelphone AS "hotelphone",
		a.refuseorder as "refuseorder",
		a.pmsbosscomfirmorder AS "pmsbosscomfirmorder",
		a.hotelSelfBuild AS "hotelSelfBuild",
		a.discount AS "discount"
	</sql>
	
	<sql id="datacenterOrdersJoins">
	</sql>
    
	<select id="get" resultType="com.thinkgem.gds.datacenter.entity.DatacenterOrders">
		SELECT 
			<include refid="datacenterOrdersColumns"/>
		FROM datacenter_orders a
		<include refid="datacenterOrdersJoins"/>
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="com.thinkgem.gds.datacenter.entity.DatacenterOrders">
		SELECT 
			<include refid="datacenterOrdersColumns"/>
		FROM datacenter_orders a
		<include refid="datacenterOrdersJoins"/>
		<where>			
			<if test="id != null and id != ''">
				AND a.id = #{id}
			</if>
			<if test="hotelid != null and hotelid != ''">
				AND a.hotelid like #{hotelid}
			</if>
			<if test="hotelname != null and hotelname != ''">
				AND a.hotelname like concat('%',#{hotelname},'%')
			</if>
			<if test="hotelpms != null and hotelpms != ''">
				AND a.hotelpms = #{hotelpms}
			</if>
			<if test="channelid != null and channelid != ''">
				AND a.channelid = #{channelid}
			</if>
			<if test="paytype != null and paytype != ''">
				AND a.paytype = #{paytype}
			</if>
			<if test="begintime != null and begintime != ''">
				AND date_format(a.begintime,'%Y-%m-%d') &gt;= date_format(#{begintime},'%Y-%m-%d')
			</if>
			<if test="begintime1 != null and begintime1 != ''">
				AND date_format(a.begintime,'%Y-%m-%d') &lt;= date_format(#{begintime1},'%Y-%m-%d')
			</if>
			<if test="endtime != null and endtime != ''">
				AND date_format(a.endtime,'%Y-%m-%d') &gt;= date_format(#{endtime},'%Y-%m-%d')
			</if>
			<if test="endtime1 != null and endtime1 != ''">
				AND date_format(a.endtime,'%Y-%m-%d') &lt;= date_format(#{endtime1},'%Y-%m-%d')
			</if>
			<if test="status != null and status != ''">
				AND a.status = #{status}
			</if>
			<if test="teamname != null and teamname != ''">
				AND a.teamname = #{teamname}
			</if>
			<if test="contacts != null and contacts != ''">
				AND a.contacts like concat('%',#{contacts},'%') 
			</if>
			<if test="contactsphone != null and contactsphone != ''">
				AND a.contactsphone = #{contactsphone}
			</if>
			<if test="paystatus != null and paystatus != ''">
				AND a.paystatus = #{paystatus}
			</if>
			<if test="orderno != null and orderno != ''">
				AND a.orderno like concat('%',#{orderno},'%')
			</if>
			<if test="pmsorderid != null and pmsorderid != ''">
				AND a.pmsorderid = #{pmsorderid}
			</if>
			<if test="grouporderid != null and grouporderid != ''">
				AND a.grouporderid = #{grouporderid}
			</if>
			<if test="ordertype != null and ordertype != ''">
				AND a.ordertype = #{ordertype}
			</if>
			<if test="createtime != null and createtime != ''">
				AND date_format(a.createtime,'%Y-%m-%d') &gt;= date_format(#{createtime},'%Y-%m-%d')
			</if>
			<if test="createtime1 != null and createtime1 != ''">
				AND date_format(a.createtime,'%Y-%m-%d') &lt;= date_format(#{createtime1},'%Y-%m-%d')
			</if>
			<if test="updatetime != null and updatetime != ''">
				AND a.updatetime = #{updatetime}
			</if>
			<if test="refuseorder != null">
				AND a.refuseorder = #{refuseorder}
			</if>
			<if test="channelname != null and channelname != ''">
				AND a.channelname like concat('%',#{channelname},'%')  
			</if>
			<if test="salerid != null and salerid != ''">
				AND a.salerid = #{salerid}
			</if>
			<if test="settlestatus != null and settlestatus != ''">
				AND a.settlestatus = #{settlestatus}
			</if>
			<if test="channelname != null and channelname != ''">
				AND a.channelname like concat('%',#{channelname},'%')  
			</if>
			<if test="provname != null and provname != ''">
				AND a.provname like concat('%',#{provname},'%')  
			</if>
			<if test="cityname != null and cityname != ''">
				AND a.cityname like concat('%',#{cityname},'%')  
			</if>
			<if test="salername != null and salername!= ''">
				AND a.salername like concat('%',#{salername},'%')  
			</if>
			<if test="salerphone != null and salerphone!= ''">
				AND a.salerphone like concat('%',#{salerphone},'%')  
			</if>
			<if test="bossname != null and bossname!= ''">
				AND a.bossname like concat('%',#{bossname},'%')  
			</if>
			<if test="bossphone != null and bossphone!= ''">
				AND a.bossphone like concat('%',#{bossphone},'%')  
			</if>
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<select id="findAllList" resultType="com.thinkgem.gds.datacenter.entity.DatacenterOrders">
		SELECT 
			<include refid="datacenterOrdersColumns"/>
		FROM datacenter_orders a
		<include refid="datacenterOrdersJoins"/>
		<where>
			
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<insert id="insert">
		INSERT INTO datacenter_orders(
			id,
			hotelid,
			hotelname,
			hotelpms,
			channelid,
			paytype,
			begintime,
			endtime,
			status,
			teamname,
			totalprice,
			contacts,
			contactsphone,
			paystatus,
			orderno,
			pmsorderid,
			grouporderid,
			ordertype,
			cancelreason,
			createtime,
			updatetime,
			note,
			channelname,
			salerid,
			settlestatus,
			refuseorder
		) VALUES (
			#{id},
			#{hotelid},
			#{hotelname},
			#{hotelpms},
			#{channelid},
			#{paytype},
			#{begintime},
			#{endtime},
			#{status},
			#{teamname},
			#{totalprice},
			#{contacts},
			#{contactsphone},
			#{paystatus},
			#{orderno},
			#{pmsorderid},
			#{grouporderid},
			#{ordertype},
			#{cancelreason},
			#{createtime},
			#{updatetime},
			#{note},
			#{channelname},
			#{salerid},
			#{settlestatus},
			#{refuseorder}
		)
	</insert>
	
	<update id="update">
		UPDATE datacenter_orders
		<set>
			<if test="hotelid != null">
				hotelid = #{hotelid},
			</if>
			<if test="hotelname != null">
				hotelname = #{hotelname},
			</if>
			<if test="hotelpms != null">
				hotelpms = #{hotelpms},
			</if>
			<if test="channelid != null">
				channelid = #{channelid},
			</if>
			<if test="paytype != null">
				paytype = #{paytype},
			</if>
			<if test="begintime != null">
				begintime = #{begintime},
			</if>
			<if test="endtime != null">
				endtime = #{endtime},
			</if>
			<if test="status != null">
				status = #{status},
			</if>
			<if test="teamname != null">
				teamname = #{teamname},
			</if>
			<if test="totalprice != null">
				totalprice = #{totalprice},
			</if>
            <if test="discount != null">
                discount = #{discount},
            </if>
			<if test="contacts != null">
				contacts = #{contacts},
			</if>
			<if test="contactsphone != null">
				contactsphone = #{contactsphone},
			</if>
			<if test="paystatus != null">
				paystatus = #{paystatus},
			</if>
			<if test="orderno != null">
				orderno = #{orderno},
			</if>
			<if test="pmsorderid != null">
				pmsorderid = #{pmsorderid},
			</if>
			<if test="grouporderid != null">
				grouporderid = #{grouporderid},
			</if>
			<if test="ordertype != null">
				ordertype = #{ordertype},
			</if>
			<if test="cancelreason != null">
				cancelreason = #{cancelreason},
			</if>
			<if test="createtime != null">
				createtime = #{createtime},
			</if>
			<if test="updatetime != null">
				updatetime = #{updatetime},
			</if>
			<if test="note != null">
				note = #{note},
			</if>
			<if test="channelname != null">
				channelname = #{channelname},
			</if>
			<if test="salerid != null">
				salerid = #{salerid},
			</if>
			<if test="settlestatus != null">
				settlestatus = #{settlestatus},
			</if>
			<if test="cancelreasondesc != null">
				cancelreasondesc = #{cancelreasondesc},
			</if>
			<if test="provcode != null">
				provcode = #{provcode},
			</if>
			<if test="citycode != null">
				citycode = #{citycode},
			</if>
			<if test="discode != null">
				discode = #{discode},
			</if>
			<if test="provname != null">
				provname = #{provname},
			</if>
			<if test="cityname != null">
				cityname = #{cityname},
			</if>
			<if test="disname != null">
				disname = #{disname},
			</if>
			<if test="salername != null">
				salername = #{salername},
			</if>
			<if test="salerphone != null">
				salerphone = #{salerphone},
			</if>
			<if test="bossname != null">
				bossname = #{bossname},
			</if>
			<if test="bossphone != null">
				bossphone = #{bossphone},
			</if>
			<if test="totalroom != null">
				totalroom = #{totalroom},
			</if>
			<if test="hotelphone != null">
				hotelphone = #{hotelphone},
			</if>
			<if test="pmsbosscomfirmorder != null">
				pmsbosscomfirmorder = #{pmsbosscomfirmorder},
			</if>
			<if test="refuseorder != null">
				refuseorder = #{refuseorder},
			</if>
		</set>
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		DELETE FROM datacenter_orders
		WHERE id = #{id}
	</update>
	
</mapper>