<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.sc.accntinterests.dao.SettlementAccntInterestDao">
    
	<sql id="settlementAccntInterestColumns">
		a.id AS "id",
		a.ledgerid AS "ledgerid",
		a.accountid AS "accountid",
		a.accountname AS "accountname",
		a.hotelid AS "hotelid",
		a.hotelname AS "hotelname",
		a.hotelpms AS "hotelpms",
		a.pvalue AS "pvalue",
		a.begininterestdate AS "begininterestdate",
		a.endinterestdate AS "endinterestdate",
		a.days AS "days",
		a.interestrate AS "interestrate",
		a.ratetype AS "ratetype",
		a.isrepeat AS "isrepeat",
		a.interests AS "interests",
		a.balanceupdated AS "balanceupdated",
		a.status AS "status",
		a.createtime AS "createtime",
		a.updatetime AS "updatetime"
	</sql>
	
	<sql id="settlementAccntInterestJoins">
	</sql>
    
	<select id="get" resultType="SettlementAccntInterest">
		SELECT 
			<include refid="settlementAccntInterestColumns"/>
		FROM settlement_accnt_interest a
		<include refid="settlementAccntInterestJoins"/>
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="SettlementAccntInterest">
		SELECT 
			<include refid="settlementAccntInterestColumns"/>
		FROM settlement_accnt_interest a
		<include refid="settlementAccntInterestJoins"/>
		<where>
			
			<if test="accountid != null and accountid != ''">
				AND a.accountid = #{accountid}
			</if>
			<if test="accountname != null and accountname != ''">
				AND a.accountname = #{accountname}
			</if>
			<if test="hotelid != null and hotelid != ''">
				AND a.hotelid = #{hotelid}
			</if>
			<if test="hotelname != null and hotelname != ''">
				AND a.hotelname = #{hotelname}
			</if>
			<if test="hotelpms != null and hotelpms != ''">
				AND a.hotelpms = #{hotelpms}
			</if>
			<if test="begininterestdate != null and begininterestdate != ''">
				AND a.begininterestdate = #{begininterestdate}
			</if>
			<if test="endinterestdate != null and endinterestdate != ''">
				AND a.endinterestdate = #{endinterestdate}
			</if>
			<if test="days != null and days != ''">
				AND a.days = #{days}
			</if>
			<if test="interestrate != null and interestrate != ''">
				AND a.interestrate = #{interestrate}
			</if>
			<if test="ratetype != null and ratetype != ''">
				AND a.ratetype = #{ratetype}
			</if>
			<if test="isrepeat != null and isrepeat != ''">
				AND a.isrepeat = #{isrepeat}
			</if>
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<select id="findAllList" resultType="SettlementAccntInterest">
		SELECT 
			<include refid="settlementAccntInterestColumns"/>
		FROM settlement_accnt_interest a
		<include refid="settlementAccntInterestJoins"/>
		<where>
			
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<insert id="insert">
		INSERT INTO settlement_accnt_interest(
			id,
			ledgerid,
			accountid,
			accountname,
			hotelid,
			hotelname,
			hotelpms,
			pvalue,
			begininterestdate,
			endinterestdate,
			days,
			interestrate,
			ratetype,
			isrepeat,
			interests,
			balanceupdated,
			status,
			createtime,
			updatetime
		) VALUES (
			#{id},
			#{ledgerid},
			#{accountid},
			#{accountname},
			#{hotelid},
			#{hotelname},
			#{hotelpms},
			#{pvalue},
			#{begininterestdate},
			#{endinterestdate},
			#{days},
			#{interestrate},
			#{ratetype},
			#{isrepeat},
			#{interests},
			#{balanceupdated},
			#{status},
			#{createtime},
			#{updatetime}
		)
	</insert>
	
	<update id="update">
		UPDATE settlement_accnt_interest SET 	
			ledgerid = #{ledgerid},
			accountid = #{accountid},
			accountname = #{accountname},
			hotelid = #{hotelid},
			hotelname = #{hotelname},
			hotelpms = #{hotelpms},
			pvalue = #{pvalue},
			begininterestdate = #{begininterestdate},
			endinterestdate = #{endinterestdate},
			days = #{days},
			interestrate = #{interestrate},
			ratetype = #{ratetype},
			isrepeat = #{isrepeat},
			interests = #{interests},
			balanceupdated = #{balanceupdated},
			status = #{status},
			createtime = #{createtime},
			updatetime = #{updatetime}
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		DELETE FROM settlement_accnt_interest
		WHERE id = #{id}
	</update>
	
</mapper>